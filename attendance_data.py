# Sample attendance data
attendance_data =[
    {"Roll No.": 1, "Student Name": "Tamil", "Attendance": ["P", "P", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 2, "Student Name": "Priya", "Attendance": ["P", "P", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 3, "Student Name": "Zara", "Attendance": ["P", "P", "", "P", "A", "P", "P", "P", "P", "P"]},
    {"Roll No.": 4, "Student Name": "Shan", "Attendance": ["P", "P", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 5, "Student Name": "Iniya", "Attendance": ["P", "P", "P", "P", "P", "A", "A", "P", "P", "P"]},
    {"Roll No.": 6, "Student Name": "Tina", "Attendance": ["P", "P", "P", "P", "A", "P", "P", "P", "P", "P"]},
    {"Roll No.": 7, "Student Name": "Paul", "Attendance": ["P", "P", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 8, "Student Name": "Ram", "Attendance": ["P", "P", "P", "A", "A", "A", "A", "A", "P", "P"]},
    {"Roll No.": 9, "Student Name": "Saro", "Attendance": ["A", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 10, "Student Name": "Mehram", "Attendance": ["A", "A", "A", "A", "A", "P", "P", "A", "P", "P"]},
    {"Roll No.": 11, "Student Name": "Aisha", "Attendance": ["A", "A", "A", "A", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 12, "Student Name": "Kiran", "Attendance": ["P", "P", "P", "A", "A", "P", "P", "P", "P", "P"]},
    {"Roll No.": 13, "Student Name": "Nina", "Attendance": ["P", "A", "P", "A", "A", "P", "P", "P", "P", "P"]},
    {"Roll No.": 14, "Student Name": "Ravi", "Attendance": ["P", "A", "P", "P", "P", "A", "P", "P", "P", "P"]},
    {"Roll No.": 15, "Student Name": "Sita", "Attendance": ["A", "A", "P", "A", "P", "P", "A", "P", "P", "P"]},
    {"Roll No.": 16, "Student Name": "Vikram", "Attendance": ["P", "P", "P", "P", "P", "P", "A", "P", "P", "P"]},
    {"Roll No.": 17, "Student Name": "Anita", "Attendance": ["P", "A", "P", "P", "A", "A", "P", "P", "P", "P"]},
    {"Roll No.": 18, "Student Name": "Deepak", "Attendance": ["P", "P", "A", "P", "P", "P", "P", "A", "P", "P"]},
    {"Roll No.": 19, "Student Name": "Meera", "Attendance": ["P", "P", "A", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 20, "Student Name": "Sanjay", "Attendance": ["P", "P", "P", "P", "A", "P", "P", "P", "P", "P"]},
    {"Roll No.": 21, "Student Name": "Riya", "Attendance": ["A", "P", "P", "P", "P", "A", "A", "P", "P", "P"]},
    {"Roll No.": 22, "Student Name": "Kavya", "Attendance": ["A", "A", "P", "A", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 23, "Student Name": "Nikhil", "Attendance": ["A", "A", "A", "A", "A", "P", "A", "P", "P", "P"]},
    {"Roll No.": 24, "Student Name": "Sonia", "Attendance": ["P", "P", "P", "P", "A", "P"]},
    {"Roll No.": 25, "Student Name": "Arjun", "Attendance": ["P", "P", "P", "A", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 26, "Student Name": "Neha", "Attendance": ["A", "P", "P", "P", "A", "P", "P", "P", "P", "P"]},
    {"Roll No.": 27, "Student Name": "Karan", "Attendance": ["P", "P", "A", "P", "P", "P", "P", "A", "P", "P"]},
    {"Roll No.": 28, "Student Name": "Rohit", "Attendance": ["P", "P", "P", "P", "A", "P", "P", "P", "P", "P"]},
    {"Roll No.": 29, "Student Name": "Simran", "Attendance": ["A", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 30, "Student Name": "Amit", "Attendance": ["P", "P", "P", "A", "A", "P", "P", "P", "P", "P"]},
    {"Roll No.": 31, "Student Name": "Pooja", "Attendance": ["P", "P", "P", "P", "P", "A", "P", "P", "P", "P"]},
    {"Roll No.": 32, "Student Name": "Vani", "Attendance": ["A", "A", "A", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 33, "Student Name": "Gaurav", "Attendance": ["P", "P", "P", "P", "A", "P", "P", "P", "P", "P"]},
    {"Roll No.": 34, "Student Name": "Ritika", "Attendance": ["A", "P", "P", "P", "P", "A", "P", "P", "P", "P"]},
    {"Roll No.": 35, "Student Name": "Siddharth", "Attendance": ["P", "P", "P", "A", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 36, "Student Name": "Tanvi", "Attendance": ["P", "P", "A", "P", "P", "P", "P", "A", "P", "P"]},
    {"Roll No.": 37, "Student Name": "Nikhil", "Attendance": ["A", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 38, "Student Name": "Kriti", "Attendance": ["P", "P", "P", "P", "A", "P", "P", "P", "P", "P"]},
    {"Roll No.": 39, "Student Name": "Ramesh", "Attendance": ["P", "P", "A", "P", "P", "P"]},
    {"Roll No.": 40, "Student Name": "Suman", "Attendance": ["A", "P", "P", "P", "P", "P", "A", "P", "P", "P"]},
    {"Roll No.": 41, "Student Name": "Anjali", "Attendance": ["P", "P", "P", "P", "A", "P", "P", "P", "P", "P"]},
    {"Roll No.": 42, "Student Name": "Kunal", "Attendance": ["P", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 43, "Student Name": "Divya", "Attendance": ["A", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 44, "Student Name": "Mohit", "Attendance": ["P", "P", "P", "A", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 45, "Student Name": "Sneha", "Attendance": ["P", "P", "A", "P", "P", "P", "P", "A", "P", "P"]},
    {"Roll No.": 46, "Student Name": "Ravi", "Attendance": ["A", "P", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 47, "Student Name": "Alok", "Attendance": ["P", "P", "P", "P", "A", "P", "P", "P", "P", "P"]},
    {"Roll No.": 48, "Student Name": "Naina", "Attendance": ["A", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 49, "Student Name": "Vivek", "Attendance": ["P", "P", "P", "A", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 50, "Student Name": "Priti", "Attendance": ["A", "P", "P", "P", "P", "A", "P", "P", "P", "P"]},
    {"Roll No.": 51, "Student Name": "Aarav", "Attendance": ["P", "P", "P", "P", "A", "P", "P", "P", "P", "P"]},
    {"Roll No.": 52, "Student Name": "Riya", "Attendance": ["A", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 53, "Student Name": "Karan", "Attendance": ["P", "P", "A", "P", "P", "P", "P", "A", "P", "P"]},
    {"Roll No.": 54, "Student Name": "Nisha", "Attendance": ["P", "P", "P", "A", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 55, "Student Name": "Siddhi", "Attendance": ["A", "P", "P", "P", "P", "A", "P", "P", "P", "P"]},
    {"Roll No.": 56, "Student Name": "Vikrant", "Attendance": ["P", "P", "P", "P", "A", "P", "P", "P", "P", "P"]},
    {"Roll No.": 57, "Student Name": "Tanisha", "Attendance": ["A", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 58, "Student Name": "Raghav", "Attendance": ["P", "P", "P", "A", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 59, "Student Name": "Meenal", "Attendance": ["P", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 60, "Student Name": "Kavya", "Attendance": ["A", "P", "P", "P", "P", "P", "A", "P", "P", "P"]},
    {"Roll No.": 61, "Student Name": "Ritesh", "Attendance": ["P", "P", "P", "P", "A", "P", "P", "P", "P", "P"]},
    {"Roll No.": 62, "Student Name": "Ananya", "Attendance": ["A", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 63, "Student Name": "Harsh", "Attendance": ["P", "P", "P", "A", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 64, "Student Name": "Sakshi", "Attendance": ["A", "P", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 65, "Student Name": "Nitin", "Attendance": ["P", "P", "A", "P", "P", "P", "P", "A", "P", "P"]},
    {"Roll No.": 66, "Student Name": "Pallavi", "Attendance": ["P", "P", "P", "P", "A", "P", "P", "P", "P", "P"]},
    {"Roll No.": 67, "Student Name": "Aakash", "Attendance": ["A", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 68, "Student Name": "Riya", "Attendance": ["P", "P", "P", "A", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 69, "Student Name": "Suresh", "Attendance": ["P", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    
    {"Roll No.": 70, "Student Name": "Suresh", "Attendance": ["P", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 71, "Student Name": "Anita", "Attendance": ["P", "P", "P", "A", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 72, "Student Name": "Rajesh", "Attendance": ["A", "P", "P", "P", "P", "A", "P", "P", "P", "P"]},
    {"Roll No.": 73, "Student Name": "Geeta", "Attendance": ["P", "P", "P", "P", "P", "P", "A", "P", "P", "P"]},
    {"Roll No.": 74, "Student Name": "Kiran", "Attendance": ["P", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 75, "Student Name": "Ravi", "Attendance": ["P", "P", "A", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 76, "Student Name": "Nisha", "Attendance": ["A", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 77, "Student Name": "Vikram", "Attendance": ["P", "P", "P", "P", "A", "P", "P", "P", "P", "P"]},
    {"Roll No.": 78, "Student Name": "Deepak", "Attendance": ["P", "P", "P", "A", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 79, "Student Name": "Sita", "Attendance": ["A", "A", "A", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 80, "Student Name": "Kavya", "Attendance": ["P", "P", "P", "P", "P", "A", "P", "P", "P", "P"]},
    {"Roll No.": 81, "Student Name": "Rahul", "Attendance": ["P", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 82, "Student Name": "Anjali", "Attendance": ["A", "P", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 83, "Student Name": "Nikhil", "Attendance": ["P", "P", "P", "A", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 84, "Student Name": "Meera", "Attendance": ["P", "P", "A", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 85, "Student Name": "Sanjay", "Attendance": ["A", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 86, "Student Name": "Tina", "Attendance": ["P", "P", "P", "P", "P", "A", "P", "P", "P", "P"]},
    {"Roll No.": 87, "Student Name": "Riya", "Attendance": ["P", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 88, "Student Name": "Karan", "Attendance": ["A", "A", "A", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 89, "Student Name": "Vani", "Attendance": ["P", "P", "P", "P", "A", "P", "P", "P", "P", "P"]},
    {"Roll No.": 90, "Student Name": "Arjun", "Attendance": ["P", "P", "A", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 91, "Student Name": "Suresh", "Attendance": ["A", "P", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 92, "Student Name": "Rohit", "Attendance": ["P", "P", "P", "A", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 93, "Student Name": "Aisha", "Attendance": ["P", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 94, "Student Name": "Kavya", "Attendance": ["A", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 95, "Student Name": "Nina", "Attendance": ["P", "P", "P", "P", "P", "A", "P", "P", "P", "P"]},
    {"Roll No.": 96, "Student Name": "Ravi", "Attendance": ["P", "P", "A", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 97, "Student Name": "Deepak", "Attendance": ["A", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 98, "Student Name": "Sanjay", "Attendance": ["P", "P", "P", "P", "A", "P", "P", "P", "P", "P"]},
    
    
    {"Roll No.": 99, "Student Name": "Sanjay", "Attendance": ["P", "P", "P", "P", "A", "P", "P", "P", "P", "P"]},
    {"Roll No.": 100, "Student Name": "Anjali", "Attendance": ["A", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 101, "Student Name": "Kiran", "Attendance": ["P", "P", "P", "A", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 102, "Student Name": "Ravi", "Attendance": ["P", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 103, "Student Name": "Nisha", "Attendance": ["A", "A", "A", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 104, "Student Name": "Vikram", "Attendance": ["P", "P", "P", "P", "P", "A", "P", "P", "P", "P"]},
    {"Roll No.": 105, "Student Name": "Deepak", "Attendance": ["P", "P", "A", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 106, "Student Name": "Meera", "Attendance": ["A", "P", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 107, "Student Name": "Sita", "Attendance": ["P", "P", "P", "A", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 108, "Student Name": "Kavya", "Attendance": ["P", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 109, "Student Name": "Rahul", "Attendance": ["A", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 110, "Student Name": "Anita", "Attendance": ["P", "P", "P", "P", "A", "P", "P", "P", "P", "P"]},
    {"Roll No.": 111, "Student Name": "Riya", "Attendance": ["P", "P", "A", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 112, "Student Name": "Nikhil", "Attendance": ["A", "A", "A", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 113, "Student Name": "Sanjay", "Attendance": ["P", "P", "P", "P", "P", "A", "P", "P", "P", "P"]},
    {"Roll No.": 114, "Student Name": "Tina", "Attendance": ["P", "A", "P", "P", "P", "P", "P", "P", "P", "P"]},
    {"Roll No.": 115, "Student Name": "Karan", "Attendance": ["A", "A", "P", "P", "P", "P", "P", "P"]}
]

# Exam hall capacities
exam_halls = {
    "Hall A": {"capacity": 38, "allocated": []},
    "Hall B": {"capacity": 38, "allocated": []},
    "Hall C": {"capacity": 39, "allocated": []},
}

def calculate_attendance_percentage(attendance):
    total_classes = len(attendance)
    attended_classes = attendance.count("P")
    return (attended_classes / total_classes) * 100 if total_classes > 0 else 0

def allocate_halls(students, exam_halls):
    for student in students:
        attendance_percentage = calculate_attendance_percentage(student["Attendance"])
        allocated = False
       
        # Allocate based on attendance percentage
        if attendance_percentage >= 75:  # Example threshold for allocation
            for hall, details in exam_halls.items():
                if len(details["allocated"]) < details["capacity"]:
                    details["allocated"].append(student)
                    allocated = True
                    break
       
        if not allocated:
            print(f"Student {student['Student Name']} could not be allocated to any hall due to capacity.")
attendance_data = sorted(attendance_data, key=lambda student: student['Student Name'])

# Calculate attendance percentages and allocate halls
for student in attendance_data:
    student["Attendance Percentage"] = calculate_attendance_percentage(student["Attendance"])

allocate_halls(attendance_data, exam_halls)

# Print the allocation results
for hall, details in exam_halls.items():
    print(f"\n{hall} Allocations:")
    for student in details["allocated"]:
        print(f" - {student['Student Name']} (Roll No: {student['Roll No.']}, Attendance %: {student['Attendance Percentage']:.2f}%)")

# Print students who could not be allocated
print("\nStudents who could not be allocated:")
for student in attendance_data:
    if student not in [s for hall in exam_halls.values() for s in hall["allocated"]]:
        print(f" - {student['Student Name']} (Roll No: {student['Roll No.']}, Attendance %: {student['Attendance Percentage']:.2f}%)")